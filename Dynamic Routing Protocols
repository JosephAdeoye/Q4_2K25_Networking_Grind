Dynamic Routing Protocols 
  - When a routing protocol is used, routers automatically advertise their best paths to known networks to each other.
  - Routers use this information to determine their own best path to the known destinations
  - When the state of the network changes, such as a link going down or a new subnet being added, the routers update each other.
  - Routers will automatically calculate a new best path and update the routing table if the network changes. 
  - Summary routes lead to less memory usage in routers as their routing tables contain fewer routes.
  - They also lead to less CPU usage, as changes in the network only affect other routers in the same area

Dynamic Routing Protocols vs Static Routes
  - Routing protocols are more scalable than administrator-defined static routes.
  - Using purely static routes is only feasible in very small environments

Dynamic Routing Protocols Advantages
  - The routers automatically advertise available subnets to each other without the administrator having to manually enter every route on every router,
  - If a subnet is added or removed, the routers will automatically discover that and update their routing tables.
  - If the best path to a subnet goes down, routers automatically discover that and will calculate a new best path if one is available.
  - Using a combination of a dynamic routing protocol and static routes is very common in real-world environments.
  - In this case, the routing protocol will be used to carry the bulk of the network information.
  - Static routes can also be used on an as-needed basis. For example, for backup purposes or for a static route to the internet(which will typically be injected into the dynamic routing protocol and advertised to the rest of the routers). 

ROUTING PROTOCOLS TYPES
Routing protocols can be split into two main types:
    - Interior gateway protocols (IGPs)
    - Exterior gateway protocols (EGPs)
Interior gateway protocols are used for routing within an organisation
Exterior gateway protocols are used for routing between organisations over the Internet
The only EGP in use today is BGP (Border Gateway Protocol)

Interior gateway protocols can be split into two main types:
    - Distance Vector routing protocols
    - Link State routing protocols

DISTANCE VECTOR ROUTING PROTOCOLS
    - In Distance Vector protocols, each router sends its directly connected neighbours a list of all its known networks along with its own distance to each of those networks
    - Distance vector routing protocols do not advertise the entire network topology
    - A router only knows its directly connected neighbours and the lists of networks those neighbours have advertised. It doesn't have detailed topology information beyond its directly connected neighbours
    - Distance Vector routing protocols are often called 'Routing by rumour'.

LINK STATE ROUTING PROTOCOLS
    - In Link State routing protocols, each router describes itself and its interfaces to its directly connected neighbours
    - This information is passed unchanged from one router to another
    - Every router learns the full picture of the network, including every router, its interfaces and what they connect to

## ROUTING PROTOCOLS

Routing protocols are categorised into **Interior Gateway Protocols (IGPs)** and **Exterior Gateway Protocols (EGPs)**.

### Interior Gateway Protocols (IGPs)
Used **within a single Autonomous System (AS)**.

- **Distance Vector Protocols**
  - RIP (Routing Information Protocol)
  - EIGRP (Enhanced Interior Gateway Routing Protocol) → often called "Advanced Distance Vector"

- **Link State Protocols**
  - OSPF (Open Shortest Path First)
  - IS-IS (Intermediate System – Intermediate System)

### Exterior Gateway Protocols (EGPs)
Used **between different Autonomous Systems (ASes)**.

- **Path Vector Protocols**
  - BGP (Border Gateway Protocol)

---
## ROUTING PROTOCOLS Comparison

| Feature              | Distance Vector                  | Link State                                | Path Vector             |
|----------------------|----------------------------------|-------------------------------------------|-------------------------|
| **Examples**         | RIP, EIGRP                       | OSPF, IS-IS                               | BGP                     |
| **Metric**           | Hop count (RIP), Composite (EIGRP) | Cost (OSPF), Link metrics (IS-IS)         | Path attributes (AS-Path, etc.) |
| **Updates**          | Periodic (broadcasts entire table) | Triggered, only when topology changes     | Updates based on AS-path changes |
| **Knowledge**        | Knows only next hop              | Has complete topology of the network      | Knows entire AS-path to destination |
| **Convergence**      | Slower (RIP), faster (EIGRP)     | Faster convergence                        | Slower (Internet scale) |
| **Scalability**      | Low (RIP limited to 15 hops)     | High (OSPF/IS-IS scale well in large AS)  | Very High (global Internet) |
| **Use Case**         | Small networks, legacy           | Large enterprise and ISP internal networks | Internet routing between ISPs |

INTERIOR GATEWAY PROTOCOLS
    - All of the IGPs do the same job, which is to advertise routes within an organisation and determine the best path or paths
    - An organisation will typically pick one of the IGPs
    - If an organisation has multiple IGPs in effect (for example, because of a merger or an acquisition), information can be redistributed between them. This should generally be avoided.

METRIC
    - A router may receive multiple possible paths to get to a destination network
    - Only the best path will make it into the routing table and be used
    - The different IGPs use different methods to calculate the best path to a destination network
    - Each possible path will be assigned a 'metric' value by the routing protocol, which indicates how preferred the path is
    - The lowest metric value is preferred
    - Distance Vector routers advertise to each other the networks they know about, and their metric to get to each of them
    - Link State routers advertise all the links in their area of the network to each other
    - Each router will take this information and then make an independent calculation of its own best path to get to each destination
    - If the best path to a destination is lost (for example, because a link went down), it will be removed from the routing table and replaced with the next best route

RIP METRIC - HOP COUNT
    - RIP uses Hop Count as the metric
    - The maximum hop count by default is 15. Paths which are more than 15 hops away are marked as unreachable  
    - RIP is typically used only in small or test environments

OSPF METRIC - COST
    - OSPF uses 'Cost' as the metric, which is automatically derived from interface bandwidth by default
    - You can manually configure the cost of links if you want to manipulate the path

IS-IS METRIC - COST
    - IS-IS also uses 'COST' as the metric, but it is not automatically derived from interface bandwidth. All links have an equal cost by default
    - You can manually configure the cost of links if you want to manipulate the path  
    - If you do not manually set the link costs then the path with the lowest hop count will be used

EIGRP METRIC - COST
    - EIGRP uses the bandwidth and delay of links to calculate the metric
    - (Load and reliability can also be considered, but are ignored by default)
    - A fixed delay value is used based on the interface bandwidth; the protocol does not dynamically measure the current delay
    - You can manually configure the delay on links if you want to manipulate the path

Choosing a Routing Protocol
    - RIP uses hop count and has a default maximum metric of 15. It is not typically used in production networks due to its scalability limitations.
    - EIGRP is very simple to maintain, and calculates changes very quickly, and its metric calculation will normally choose the best path by default. It is typically supported only on Cisco routers
    - OSPF's metric calculation will typically choose the best path by default. It is an open standard which is supported by all vendors' routers and is the most commonly deployed IGP today. It is, however, more complicated to maintain than EIGRP.
    - IS-IS links need to be manually configured, or it will use the hop count to determine the best path. It is typically only used in Service Provider networks or large organisations with their own MPLS network, who choose it because of its scalability.

Equal Cost Multi Path (ECMP)
    - If multiple paths to a destination have an equal metric, the router will enter all of the paths into the routing table
    - Equal Cost Multi-Path will load balance the outbound traffic to the destination over the different paths
    - All IGP routing protocols will perform ECMP by default
    - EIGRP is the only routing protocol which is capable of UnEqual Cost Multi Path. It must be manually configured to support this.

Administrative Distance
    - A router will typically only learn routes to a particular destination from a single routing protocol
    - When multiple routes to a destination are learned through a routing protocol, the router will install the path or paths with the best (lowest) metric into the routing table
    - Different routing protocols use different methods to calculate the metric
    - If paths to the same destination are received from different routing protocols, their metrics cannot be compared
    - For example, a RIP hop count of 5 cannot be compared to an OSPF cost of 60. The comparison would be meaningless because the routing protocols calculate the metric in completely different ways.
    - The router must use a different method to choose when routes to the same destination are received from different routing protocols
    - The ADMINISTRATIVE DISTANCE (AD) is used for this
    - The ADMINISTRATIVE DISTANCE is a measure of how trusted the routing protocol is 
    - If routes to the same destination are received via different routing protocols, the protocol with the best (lowest) ADMINISTRATIVE DISTANCE wins.

## Default Administrative Distances

Administrative Distance (AD) is the "trustworthiness" of a routing source.  
- Lower AD = more preferred route.  
- If multiple routes exist to the same destination, the route with the **lowest AD** is installed in the routing table.  

| Route Source          | Default AD |
|-----------------------|------------|
| Connected Interface   | 0          |
| Static Route          | 1          |
| External BGP          | 20         |
| EIGRP (Internal)      | 90         |
| OSPF                  | 110        |
| IS-IS                 | 115        |
| RIP                   | 120        |

---

### Key Notes
- **Connected (0)** always wins over any learned route.  
- **Static (1)** is preferred unless a connected interface exists.  
- **EIGRP (90)** is more preferred than OSPF (110) or RIP (120).  
- **External BGP (20)** is trusted more than IGPs but less than static/connected.  
- Higher AD = less preferred (RIP often loses if other options exist).  

Administrative Distance and Metric
  - ADMINISTRATIVE DISTANCE IS USED TO CHOOSE BETWEEN MULTIPLE PATHS LEARNED VIA DIFFERENT ROUTING PROTOCOLS
  - METRIC IS USED TO CHOOSE BETWEEN MULTIPLE PATHS LEARNED VIA THE SAME PROTOCOL
  - THE ADMINISTRATIVE DISTANCE IS CONSIDERED FIRST TO NARROW THE CHOICE DOWN TO THE SINGLE BEST ROUTING PROTOCOL
  - THE METRIC IS THEN CONSIDERED TO CHOOSE THE BEST PATH OR PATHS WHICH MAKE IT INT

LOOPBACK INTERFACES
  - Loopback interfaces are logical interfaces
  - They allow you to assign an IP address to a router or L3 switch, which is not tied to a physical interface
  - Because they don't have any physical attributes which can fail, loopback interfaces never go down
  - Loopbacks are logical, so they cannot be physically in the same subnet as other devices, so they are usually assigned a /32 subnet mask to avoid wasting IP addresses
  - It is best practice to assign a loopback interface to your routers
  - The loopback is commonly used for traffic that terminates on the router itself
  - This could be management traffic, Voice over IP, BGP peering, etc
  - This provides redundancy if there are multiple paths to the router
  - The loopback is also used to identify the router (Router ID) in OSPF
  - The same loopback interface is usually used for multiple tasks (for example, management and BGP)
  - Multiple loopbacks can be configured. This is not common and is only done where another separate loopback is required for a special case.

Adjacencies and Passive Interfaces
